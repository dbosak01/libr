<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Frequently Asked Questions • libr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><script src="../extra.js"></script><meta property="og:title" content="Frequently Asked Questions">
<meta property="og:description" content="libr">
<meta property="og:image" content="https://libr.r-sassy.org/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">libr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.2.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"></ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/libr.html">Get started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/libr-basics.html">Basic Library Operations</a>
    </li>
    <li>
      <a href="../articles/libr-management.html">Library Management</a>
    </li>
    <li>
      <a href="../articles/libr-datastep.html">Data Step Operations</a>
    </li>
    <li>
      <a href="../articles/libr-eq.html">Enhanced Equality</a>
    </li>
    <li>
      <a href="../articles/libr-disclaimer.html">Disclaimer</a>
    </li>
    <li>
      <a href="../articles/libr-example1.html">Complete Example 1</a>
    </li>
    <li>
      <a href="../articles/libr-example2.html">Complete Example 2</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href=".././articles/libr-faq.html">FAQ</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<li>
  <a href="https://github.com/dbosak01/libr/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="libr-faq_files/header-attrs-2.11/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Frequently Asked Questions</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/dbosak01/libr/blob/master/vignettes/libr-faq.Rmd"><code>vignettes/libr-faq.Rmd</code></a></small>
      <div class="hidden name"><code>libr-faq.Rmd</code></div>

    </div>

    
    
<p>Below are some frequently asked questions about the <strong>libr</strong> package. Click on the links below to navigate to the full question and answer content.</p>
<div id="top" class="section level2">
<h2 class="hasAnchor">
<a href="#top" class="anchor"></a>Index</h2>
<ul>
<li><a href="#libname">How do I create a libname in R?</a></li>
<li><a href="#formats">Which data formats does the libname function support?</a></li>
<li><a href="#filter">Is there a way to filter the datasets in my libname?</a></li>
<li><a href="#dictionary">How do I view the variables in my datasets?</a></li>
<li><a href="#export">How do I export data to another file format?</a></li>
<li><a href="#copy">How do I copy a library?</a></li>
<li><a href="#datastep">Can I really do a datastep in R?</a></li>
</ul>
</div>
<div id="content" class="section level2">
<h2 class="hasAnchor">
<a href="#content" class="anchor"></a>Content</h2>
<div id="libname" class="section level3">
<h3 class="hasAnchor">
<a href="#libname" class="anchor"></a>How do I create a libname in R?</h3>
<p><strong>Q:</strong> I have a directory full of datasets. I need to use several of them in my analysis. In SAS®, I would create a libname so I could access all of them. Is there a way to do something similar in R?</p>
<p><strong>A:</strong> With the <strong>libr</strong> package, you can create a libname in R very much the same way you create a libname in SAS®.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/libname.html">libname</a></span><span class="op">(</span><span class="va">mylib</span>, <span class="st">"c:/mypath/mydata"</span>, <span class="st">"csv"</span><span class="op">)</span></code></pre></div>
<p>The above statement will create a libname “mylib” from the directory specified on the second parameter. The libname will use the CSV engine. If there are any CSV files in the directory, they will be all loaded into the library. To work directly with the datasets, you can then do:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/lib_load.html">lib_load</a></span><span class="op">(</span><span class="va">mylib</span><span class="op">)</span></code></pre></div>
<p>This statement will load the datasets into your workspace, where you can begin using them. For instance, you could get summary statistics for a variable like this:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">mylib.dat1</span><span class="op">$</span><span class="va">var1</span><span class="op">)</span></code></pre></div>
<p>If you made any changes to the data, and want to keep those changes, remember to save them with:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/lib_write.html">lib_write</a></span><span class="op">(</span><span class="va">mylib</span><span class="op">)</span></code></pre></div>
<p>When you are done, unload the datasets with:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/lib_unload.html">lib_unload</a></span><span class="op">(</span><span class="va">mylib</span><span class="op">)</span></code></pre></div>
<p><a href="#top">top</a></p>
<hr>
</div>
<div id="formats" class="section level3">
<h3 class="hasAnchor">
<a href="#formats" class="anchor"></a>Which data formats does the libname function support?</h3>
<p><strong>Q:</strong> I can see from the examples that the <strong>libr</strong> package supports CSV and SAS dataset file formats. What other data formats does the package support?</p>
<p><strong>A:</strong> The package supports the following data formats: csv, sas7bdat, rds, xls, xlsx, xpt, and dbf. The <code><a href="../reference/libname.html">libname()</a></code> help page has a full list, and a short discussion of some details on each format.</p>
<p><a href="#top">top</a></p>
<hr>
</div>
<div id="filter" class="section level3">
<h3 class="hasAnchor">
<a href="#filter" class="anchor"></a>Is there a way to filter the datasets in my libname?</h3>
<p><strong>Q:</strong> I have a directory with over 100 datasets. I want to use the <code><a href="../reference/libname.html">libname()</a></code> function, but worry about loading all those datasets into memory. Is there a way I can filter the libname, to get only some of the datasets?</p>
<p><strong>A:</strong> Yes. The <code>filter</code> parameter on the <code><a href="../reference/libname.html">libname()</a></code> function allows you to pass a wildcard filter string. For example, the following call will load only those datasets that start with ‘a’:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/libname.html">libname</a></span><span class="op">(</span><span class="va">mylib</span>, <span class="st">"c:/mypath/mydata"</span>, <span class="st">"csv"</span>, filter <span class="op">=</span> <span class="st">"a*"</span><span class="op">)</span></code></pre></div>
<p>If you have a more complicated filter criteria, you can also pass a vector of filter strings. The below example will load only those datasets that start with ‘a’ or ‘b’.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/libname.html">libname</a></span><span class="op">(</span><span class="va">mylib</span>, <span class="st">"c:/mypath/mydata"</span>, <span class="st">"csv"</span>, filter <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"a*"</span>, <span class="st">"b*"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><a href="#top">top</a></p>
<hr>
</div>
<div id="dictionary" class="section level3">
<h3 class="hasAnchor">
<a href="#dictionary" class="anchor"></a>How do I view the variables in my datasets?</h3>
<p><strong>Q:</strong> I’m doing some analysis with my data, and can’t remember all the variable names. Is there an easy way to view or print out the variables in my datasets?</p>
<p><strong>A:</strong> Yes. The <code><a href="../reference/dictionary.html">dictionary()</a></code> function from the <strong>libr</strong> pacakge will return a dataset with all the variables in your dataset, and some interesting attributes for each variable. The <code><a href="../reference/dictionary.html">dictionary()</a></code> function works on a single data frame, or an entire library. You can save this dictionary as metadata, print it, or even create a report from it. Here is an example:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Create libname</span>
<span class="fu"><a href="../reference/libname.html">libname</a></span><span class="op">(</span><span class="va">mylib</span>, <span class="st">"c:/mypath/mydata"</span>, <span class="st">"csv"</span><span class="op">)</span>

<span class="co"># Get dictionary</span>
<span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dictionary.html">dictionary</a></span><span class="op">(</span><span class="va">mylib</span><span class="op">)</span>

<span class="co"># View dictionary</span>
<span class="co"># View(d)</span></code></pre></div>
<p><a href="#top">top</a></p>
<hr>
</div>
<div id="export" class="section level3">
<h3 class="hasAnchor">
<a href="#export" class="anchor"></a>How do I export data to another file format?</h3>
<p><strong>Q:</strong> Let’s say I have some data in one format (sas7bdat), and want to export this data to another format (csv or Excel). How can I do that with the <strong>libr</strong> package?</p>
<p><strong>A:</strong> What you can do is open two libnames, and copy data from one to another. Like this:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/libname.html">libname</a></span><span class="op">(</span><span class="va">libA</span>, <span class="st">"c:/mypath/mydata1"</span>, <span class="st">"sas7bdat"</span><span class="op">)</span>
<span class="fu"><a href="../reference/libname.html">libname</a></span><span class="op">(</span><span class="va">libB</span>, <span class="st">"c:/mypath/mydata2"</span>, <span class="st">"csv"</span><span class="op">)</span>

<span class="fu"><a href="../reference/lib_add.html">lib_add</a></span><span class="op">(</span><span class="va">libB</span>, <span class="va">libA</span><span class="op">$</span><span class="va">dat1</span>, name <span class="op">=</span> <span class="st">"dat1"</span><span class="op">)</span></code></pre></div>
<p>The above statements will take the SAS® dataset “dat1”, export it to CSV, and place the new CSV file in the directory associated with the libname “libB”.</p>
<p><a href="#top">top</a></p>
<hr>
</div>
<div id="copy" class="section level3">
<h3 class="hasAnchor">
<a href="#copy" class="anchor"></a>How do I copy a library?</h3>
<p><strong>Q:</strong> I have a directory full of datasets. I want to back up the entire thing to another directory. How can I do that?</p>
<p><strong>A:</strong> You can use the <code><a href="../reference/lib_copy.html">lib_copy()</a></code> function, like this:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Create libname</span>
<span class="fu"><a href="../reference/libname.html">libname</a></span><span class="op">(</span><span class="va">lib1</span>, <span class="st">"c:/mypath/mydata1"</span>, <span class="st">"csv"</span><span class="op">)</span>

<span class="co"># Copy to a new location</span>
<span class="fu"><a href="../reference/lib_copy.html">lib_copy</a></span><span class="op">(</span><span class="va">lib1</span>, <span class="va">lib2</span>, <span class="st">"c:/mypath/mydata2"</span><span class="op">)</span></code></pre></div>
<p>You will now have a reference to the new libname <code>lib2</code> at the new location, and can use this libname like any other.</p>
<p><a href="#top">top</a></p>
<hr>
</div>
<div id="datastep" class="section level3">
<h3 class="hasAnchor">
<a href="#datastep" class="anchor"></a>Can I really do a datastep in R?</h3>
<p><strong>Q:</strong> When I first started learning R I searched all over for a way to do a datastep. I was shocked to learn there was nothing similar. Does the <strong>libr</strong> package really allow me to do a datastep in R?</p>
<p><strong>A:</strong> Yes. The <strong>libr</strong> <code><a href="../reference/datastep.html">datastep()</a></code> function does not have all the capabilities of a SAS® datastep. But it has the most commonly-used functionality. You can loop through the data row by row, examine, and compare variable values for each row. It has basic data shaping, grouping, retain, assigning of attributes, and a datastep array. Here is a simple example showing categorization of an age variable into age groups:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://libr.r-sassy.org">libr</a></span><span class="op">)</span>

<span class="co"># Define data library</span>
<span class="fu"><a href="../reference/libname.html">libname</a></span><span class="op">(</span><span class="va">dat</span>, <span class="st">"./data"</span>, <span class="st">"csv"</span><span class="op">)</span> 

<span class="co"># Loads data into workspace</span>
<span class="fu"><a href="../reference/lib_load.html">lib_load</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span>

<span class="co"># Prepare data</span>
<span class="va">dm_mod</span> <span class="op">&lt;-</span> <span class="va">dat.DM</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">USUBJID</span>, <span class="va">SEX</span>, <span class="va">AGE</span>, <span class="va">ARM</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">ARM</span> <span class="op">!=</span> <span class="st">"SCREEN FAILURE"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="../reference/datastep.html">datastep</a></span><span class="op">(</span><span class="op">{</span>
    
    <span class="kw">if</span> <span class="op">(</span><span class="va">AGE</span> <span class="op">&gt;=</span> <span class="fl">18</span> <span class="op">&amp;</span> <span class="va">AGE</span> <span class="op">&lt;=</span> <span class="fl">24</span><span class="op">)</span>
      <span class="va">AGECAT</span> <span class="op">=</span> <span class="st">"18 to 24"</span>
    <span class="kw">else</span> <span class="kw">if</span> <span class="op">(</span><span class="va">AGE</span> <span class="op">&gt;=</span> <span class="fl">25</span> <span class="op">&amp;</span> <span class="va">AGE</span> <span class="op">&lt;=</span> <span class="fl">44</span><span class="op">)</span>
      <span class="va">AGECAT</span> <span class="op">=</span> <span class="st">"25 to 44"</span>
    <span class="kw">else</span> <span class="kw">if</span> <span class="op">(</span><span class="va">AGE</span> <span class="op">&gt;=</span> <span class="fl">45</span> <span class="op">&amp;</span> <span class="va">AGE</span> <span class="op">&lt;=</span> <span class="fl">64</span><span class="op">)</span>
      <span class="va">AGECAT</span> <span class="op">&lt;-</span> <span class="st">"45 to 64"</span>
    <span class="kw">else</span> <span class="kw">if</span> <span class="op">(</span><span class="va">AGE</span> <span class="op">&gt;=</span> <span class="fl">65</span><span class="op">)</span>
      <span class="va">AGECAT</span> <span class="op">&lt;-</span> <span class="st">"&gt;= 65"</span>
    
  <span class="op">}</span><span class="op">)</span> 
  
<span class="fu"><a href="../reference/lib_unload.html">lib_unload</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span></code></pre></div>
<p>The datastep example above is part of a <strong>dplyr</strong> pipeline, but it can also function independently. Notice that, just like a SAS® datastep, you don’t have to declare new variables. You can just assign the new variable a value, and the datastep function will create it automatically.</p>
<p>You can check out the <code><a href="../reference/datastep.html">datastep()</a></code> help page, or the <a href="https://libr.r-sassy.org/articles/libr-datastep.html">datastep vignette</a> for additional examples and complete documentation.</p>
<p><a href="#top">top</a></p>
<hr>
<!-- ### Question 2? {#q2} --><!-- **Q:** Question here. --><!-- **A:** Answer here. --><!-- [top](#top) --><!-- ****** --><!-- ### Question 1? {#q1} --><!-- **Q:** Question here. --><!-- **A:** Answer here. --><!-- [top](#top)  --><!-- ****** -->
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by David Bosak.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
