<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Library Management â€¢ libr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><script src="../extra.js"></script><meta property="og:title" content="Library Management">
<meta property="og:description" content="libr">
<meta property="og:image" content="https://libr.r-sassy.org/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">libr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.3.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"></ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="../articles/libr.html">Get started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/libr-basics.html">Basic Library Operations</a>
    </li>
    <li>
      <a href="../articles/libr-management.html">Library Management</a>
    </li>
    <li>
      <a href="../articles/libr-datastep.html">Data Step Operations</a>
    </li>
    <li>
      <a href="../articles/libr-disclaimer.html">Disclaimer</a>
    </li>
    <li>
      <a href="../articles/libr-example1.html">Complete Example 1</a>
    </li>
    <li>
      <a href="../articles/libr-example2.html">Complete Example 2</a>
    </li>
    <li>
      <a href="../articles/libr-faq.html">Frequently Asked Questions</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href=".././articles/libr-faq.html">FAQ</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<li>
  <a href="https://github.com/dbosak01/libr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Library Management</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/dbosak01/libr/blob/HEAD/vignettes/libr-management.Rmd" class="external-link"><code>vignettes/libr-management.Rmd</code></a></small>
      <div class="hidden name"><code>libr-management.Rmd</code></div>

    </div>

    
    
<p>The <strong>libr</strong> package also contains a number of functions
for managing data libraries. There are functions to add and remove data
from a library, as well as copy or delete an entire library.</p>
<p>The example below illustrates some of these management functions. The
example first creates a library and adds some data to it. The example
then proceeds to copy it to another library and perform some
manipulation of the data in the libraries. The example ends by looking
at some of the metadata available for libraries:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://libr.r-sassy.org">libr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create temp directory</span></span>
<span><span class="va">tmp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create libraries</span></span>
<span><span class="fu"><a href="../reference/libname.html">libname</a></span><span class="op">(</span><span class="va">s1</span>, <span class="va">tmp</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Add data to library and adjust names</span></span>
<span><span class="fu"><a href="../reference/lib_add.html">lib_add</a></span><span class="op">(</span><span class="va">s1</span>, <span class="va">state.name</span>, <span class="va">state.area</span>, <span class="va">state.region</span>, <span class="va">state.abb</span>,</span>
<span>        name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"name"</span>, <span class="st">"area"</span>, <span class="st">"region"</span>, <span class="st">"abb"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># # library 's1': 4 items</span></span>
<span><span class="co"># - attributes: rds not loaded</span></span>
<span><span class="co"># - path: C:\Users\User\AppData\Local\Temp\RtmpqAMV6L</span></span>
<span><span class="co"># - items:</span></span>
<span><span class="co">#     Name Extension Rows Cols   Size        LastModified</span></span>
<span><span class="co"># 1   name       rds   50    1 4.4 Kb 2020-11-29 17:00:28</span></span>
<span><span class="co"># 2   area       rds   50    1 1.4 Kb 2020-11-29 17:00:28</span></span>
<span><span class="co"># 3 region       rds   50    1 1.9 Kb 2020-11-29 17:00:28</span></span>
<span><span class="co"># 4    abb       rds   50    1 4.1 Kb 2020-11-29 17:00:28</span></span>
<span></span>
<span><span class="co"># Copy library to backup location</span></span>
<span><span class="fu"><a href="../reference/lib_copy.html">lib_copy</a></span><span class="op">(</span><span class="va">s1</span>, <span class="va">s2</span>, <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">tmp</span>, <span class="st">"orig"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># # library 's2': 4 items</span></span>
<span><span class="co"># - attributes: rds not loaded</span></span>
<span><span class="co"># - path: C:\Users\User\AppData\Local\Temp\RtmpqAMV6L/orig</span></span>
<span><span class="co"># - items:</span></span>
<span><span class="co">#     Name Extension Rows Cols   Size        LastModified</span></span>
<span><span class="co"># 1   name       rds   50    1 4.4 Kb 2020-11-29 17:01:17</span></span>
<span><span class="co"># 2   area       rds   50    1 1.4 Kb 2020-11-29 17:01:17</span></span>
<span><span class="co"># 3 region       rds   50    1 1.9 Kb 2020-11-29 17:01:17</span></span>
<span><span class="co"># 4    abb       rds   50    1 4.1 Kb 2020-11-29 17:01:17</span></span>
<span></span>
<span><span class="co"># Remove data from library 1</span></span>
<span><span class="fu"><a href="../reference/lib_remove.html">lib_remove</a></span><span class="op">(</span><span class="va">s1</span>, name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"name"</span>, <span class="st">"area"</span>, <span class="st">"region"</span>, <span class="st">"abb"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># # library 's1': 0 items</span></span>
<span><span class="co"># - attributes: rds not loaded</span></span>
<span><span class="co"># - path: C:\Users\User\AppData\Local\Temp\RtmpqAMV6L</span></span>
<span><span class="co"># NULL</span></span>
<span></span>
<span><span class="co"># Load library 1 into memory</span></span>
<span><span class="fu"><a href="../reference/lib_load.html">lib_load</a></span><span class="op">(</span><span class="va">s1</span><span class="op">)</span></span>
<span></span>
<span><span class="va">s1.combined</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>name <span class="op">=</span> <span class="va">s2.name</span>, abb <span class="op">=</span> <span class="va">s2.abb</span>, </span>
<span>                          area <span class="op">=</span> <span class="va">s2.area</span>, region <span class="op">=</span> <span class="va">s2.region</span>, </span>
<span>                          stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">s1.east</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">s1.combined</span>, <span class="va">region</span> <span class="op">==</span> <span class="st">"Northeast"</span><span class="op">)</span></span>
<span><span class="va">s1.west</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">s1.combined</span>, <span class="va">region</span> <span class="op">==</span> <span class="st">"West"</span><span class="op">)</span></span>
<span><span class="va">s1.north</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">s1.combined</span>, <span class="va">region</span> <span class="op">==</span> <span class="st">"North Central"</span><span class="op">)</span></span>
<span><span class="va">s1.south</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">s1.combined</span>, <span class="va">region</span> <span class="op">==</span> <span class="st">"South"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Sync workspace with library list</span></span>
<span><span class="fu"><a href="../reference/lib_sync.html">lib_sync</a></span><span class="op">(</span><span class="va">s1</span><span class="op">)</span></span>
<span><span class="co"># # library 's1': 5 items</span></span>
<span><span class="co"># - attributes: rds loaded</span></span>
<span><span class="co"># - path: C:\Users\User\AppData\Local\Temp\RtmpqAMV6L</span></span>
<span><span class="co"># - items:</span></span>
<span><span class="co">#       Name Extension Rows Cols    Size LastModified</span></span>
<span><span class="co"># 1 combined        NA   50    4 12.7 Kb         &lt;NA&gt;</span></span>
<span><span class="co"># 2     east        NA    9    4  3.2 Kb         &lt;NA&gt;</span></span>
<span><span class="co"># 3    north        NA   12    4  3.5 Kb         &lt;NA&gt;</span></span>
<span><span class="co"># 4    south        NA   16    4    4 Kb         &lt;NA&gt;</span></span>
<span><span class="co"># 5     west        NA   13    4  3.6 Kb         &lt;NA&gt;</span></span>
<span></span>
<span><span class="co"># Save library 1 to disk</span></span>
<span><span class="fu"><a href="../reference/lib_write.html">lib_write</a></span><span class="op">(</span><span class="va">s1</span><span class="op">)</span></span>
<span><span class="co"># # library 's1': 5 items</span></span>
<span><span class="co"># - attributes: rds loaded</span></span>
<span><span class="co"># - path: C:\Users\User\AppData\Local\Temp\RtmpqAMV6L</span></span>
<span><span class="co"># - items:</span></span>
<span><span class="co">#       Name Extension Rows Cols    Size        LastModified</span></span>
<span><span class="co"># 1 combined       rds   50    4 13.4 Kb 2020-11-29 17:03:40</span></span>
<span><span class="co"># 2     east       rds    9    4    4 Kb 2020-11-29 17:03:40</span></span>
<span><span class="co"># 3    north       rds   12    4  4.3 Kb 2020-11-29 17:03:40</span></span>
<span><span class="co"># 4    south       rds   16    4  4.8 Kb 2020-11-29 17:03:40</span></span>
<span><span class="co"># 5     west       rds   13    4  4.4 Kb 2020-11-29 17:03:40</span></span>
<span></span>
<span><span class="co"># View path</span></span>
<span><span class="fu"><a href="../reference/lib_path.html">lib_path</a></span><span class="op">(</span><span class="va">s1</span><span class="op">)</span></span>
<span><span class="co"># [1] "C:\\Users\\User\\AppData\\Local\\Temp\\RtmpqAMV6L"</span></span>
<span></span>
<span><span class="co"># View size</span></span>
<span><span class="fu"><a href="../reference/lib_size.html">lib_size</a></span><span class="op">(</span><span class="va">s1</span><span class="op">)</span></span>
<span><span class="co"># [1] 7175</span></span>
<span></span>
<span><span class="co"># View info</span></span>
<span><span class="fu"><a href="../reference/lib_info.html">lib_info</a></span><span class="op">(</span><span class="va">s1</span><span class="op">)</span></span>
<span><span class="co">#       Name Extension Rows Cols    Size        LastModified</span></span>
<span><span class="co"># 1 combined       rds   50    4 13.4 Kb 2020-11-29 17:03:40</span></span>
<span><span class="co"># 2     east       rds    9    4    4 Kb 2020-11-29 17:03:40</span></span>
<span><span class="co"># 3    north       rds   12    4  4.3 Kb 2020-11-29 17:03:40</span></span>
<span><span class="co"># 4    south       rds   16    4  4.8 Kb 2020-11-29 17:03:40</span></span>
<span><span class="co"># 5     west       rds   13    4  4.4 Kb 2020-11-29 17:03:40</span></span>
<span></span>
<span><span class="co"># Display dictionary</span></span>
<span><span class="fu"><a href="../reference/dictionary.html">dictionary</a></span><span class="op">(</span><span class="va">s1</span><span class="op">)</span></span>
<span><span class="co"># # A tibble: 20 x 10</span></span>
<span><span class="co">#    Name     Column Class     Label Description Format Width Justify  Rows   NAs</span></span>
<span><span class="co">#    &lt;chr&gt;    &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt; &lt;chr&gt;       &lt;lgl&gt;  &lt;int&gt; &lt;chr&gt;   &lt;int&gt; &lt;int&gt;</span></span>
<span><span class="co">#  1 combined name   character NA    NA          NA        14 NA         50     0</span></span>
<span><span class="co">#  2 combined abb    character NA    NA          NA         2 NA         50     0</span></span>
<span><span class="co">#  3 combined area   numeric   NA    NA          NA        NA NA         50     0</span></span>
<span><span class="co">#  4 combined region factor    NA    NA          NA        NA NA         50     0</span></span>
<span><span class="co">#  5 east     name   character NA    NA          NA        13 NA          9     0</span></span>
<span><span class="co">#  6 east     abb    character NA    NA          NA         2 NA          9     0</span></span>
<span><span class="co">#  7 east     area   numeric   NA    NA          NA        NA NA          9     0</span></span>
<span><span class="co">#  8 east     region factor    NA    NA          NA        NA NA          9     0</span></span>
<span><span class="co">#  9 north    name   character NA    NA          NA        12 NA         12     0</span></span>
<span><span class="co"># 10 north    abb    character NA    NA          NA         2 NA         12     0</span></span>
<span><span class="co"># 11 north    area   numeric   NA    NA          NA        NA NA         12     0</span></span>
<span><span class="co"># 12 north    region factor    NA    NA          NA        NA NA         12     0</span></span>
<span><span class="co"># 13 south    name   character NA    NA          NA        14 NA         16     0</span></span>
<span><span class="co"># 14 south    abb    character NA    NA          NA         2 NA         16     0</span></span>
<span><span class="co"># 15 south    area   numeric   NA    NA          NA        NA NA         16     0</span></span>
<span><span class="co"># 16 south    region factor    NA    NA          NA        NA NA         16     0</span></span>
<span><span class="co"># 17 west     name   character NA    NA          NA        10 NA         13     0</span></span>
<span><span class="co"># 18 west     abb    character NA    NA          NA         2 NA         13     0</span></span>
<span><span class="co"># 19 west     area   numeric   NA    NA          NA        NA NA         13     0</span></span>
<span><span class="co"># 20 west     region factor    NA    NA          NA        NA NA         13     0</span></span>
<span></span>
<span><span class="co"># Unload library 1</span></span>
<span><span class="fu"><a href="../reference/lib_unload.html">lib_unload</a></span><span class="op">(</span><span class="va">s1</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Clean up</span></span>
<span><span class="fu"><a href="../reference/lib_delete.html">lib_delete</a></span><span class="op">(</span><span class="va">s1</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/lib_delete.html">lib_delete</a></span><span class="op">(</span><span class="va">s2</span><span class="op">)</span></span></code></pre></div>
<p>Next: <a href="libr-datastep.html">Data Step Operations</a></p>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by David Bosak.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
