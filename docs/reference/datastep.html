<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Step through data row-by-row — datastep • libr</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  
  <script src="../extra.js"></script>

<meta property="og:title" content="Step through data row-by-row — datastep" />
<meta property="og:description" content="The datastep function allows you to perform
row-wise conditional processing on a data frame or tibble. The function
contains parameters to drop, keep, or rename variables.  It also 
has the ability to perform by-group processing, and identify first
and last rows in a group." />
<meta property="og:image" content="https://libr.r-sassy.org/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">libr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/libr.html">Get started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/libr-basics.html">Basic Library Operations</a>
    </li>
    <li>
      <a href="../articles/libr-management.html">Library Management</a>
    </li>
    <li>
      <a href="../articles/libr-datastep.html">Data Step Operations</a>
    </li>
    <li>
      <a href="../articles/libr-eq.html">Enhanced Equality</a>
    </li>
    <li>
      <a href="../articles/libr-disclaimer.html">Disclaimer</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<li>
  <a href="https://github.com/dbosak01/libr/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Step through data row-by-row</h1>
    <small class="dont-index">Source: <a href='https://github.com/dbosak01/libr/blob/master/R/datastep.R'><code>R/datastep.R</code></a></small>
    <div class="hidden name"><code>datastep.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The <code>datastep</code> function allows you to perform
row-wise conditional processing on a data frame or tibble. The function
contains parameters to drop, keep, or rename variables.  It also 
has the ability to perform by-group processing, and identify first
and last rows in a group.</p>
    </div>

    <pre class="usage"><span class='fu'>datastep</span><span class='op'>(</span>
  <span class='va'>data</span>,
  <span class='va'>steps</span>,
  keep <span class='op'>=</span> <span class='cn'>NULL</span>,
  drop <span class='op'>=</span> <span class='cn'>NULL</span>,
  rename <span class='op'>=</span> <span class='cn'>NULL</span>,
  by <span class='op'>=</span> <span class='cn'>NULL</span>,
  calculate <span class='op'>=</span> <span class='cn'>NULL</span>,
  retain <span class='op'>=</span> <span class='cn'>NULL</span>,
  arrays <span class='op'>=</span> <span class='cn'>NULL</span>,
  sort_check <span class='op'>=</span> <span class='cn'>TRUE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>The data to step through.</p></td>
    </tr>
    <tr>
      <th>steps</th>
      <td><p>The operations to perform on the data.  This parameter is 
typically specified as a set of R statements contained within 
curly braces.</p></td>
    </tr>
    <tr>
      <th>keep</th>
      <td><p>A vector of quoted variable names to keep in the output
data set. By default, all variables are kept.</p></td>
    </tr>
    <tr>
      <th>drop</th>
      <td><p>A vector of quoted variable names to drop from the output
data set. By default, no variables are dropped.</p></td>
    </tr>
    <tr>
      <th>rename</th>
      <td><p>A named vector of quoted variables to rename.  The current
variable name should be on the left hand side of the name/value pair,
and the new variable name should be on the right.  The rename operation
is performed after the data step, the keep, and the drop.  Therefore, 
the data steps should use the input variable name.  By default, all variables
retain their original names.</p></td>
    </tr>
    <tr>
      <th>by</th>
      <td><p>A vector of quoted variable names to use for by-group processing.
This parameter will activate the <code>first.</code> and <code>last.</code> automatic
variables, that indicate the first or last rows in a group.  These 
automatic variables are useful for conditional processing on groups.</p></td>
    </tr>
    <tr>
      <th>calculate</th>
      <td><p>Steps to set up calculated variables.
Calculated variables are commonly performed with summary functions such as
<code>mean</code>, <code>median</code>, <code>min</code>, <code>max</code>, etc.  It is more 
efficient to set up calculated variables with the calculate parameter and then 
use those variables in the data step, rather than perform the summary
function inside the data step.</p></td>
    </tr>
    <tr>
      <th>retain</th>
      <td><p>A list of variable names and initial values 
to retain.  Retained variables will begin the data step with the initial
value.  Then for each iteration of the data step, the variable will
be populated with the ending value from the previous step.  The retain
functionality allows you to perform cumulative operations or decisions
based on the value of the previous iteration of the data step.  Initial 
values should be of the expected data type for the column.  For example, 
for a numeric column set the initial value to a zero, and for a
character column, set the initial value to an empty string, i.e.
<code>retain = list(col1 = 0, col2 = "")</code>.  There is no default initial 
value for a variable.  You must supply an initial value for each retained
variable.</p></td>
    </tr>
    <tr>
      <th>arrays</th>
      <td><p>A list of <code><a href='dsarray.html'>dsarray</a></code> objects.</p></td>
    </tr>
    <tr>
      <th>sort_check</th>
      <td><p>Checks to see if the input data is sorted according to
the <code>by</code> variable parameter.  The sort check will give an error
if the input data is not sorted according to the <code>by</code> variable.
The check is turned on if the value of 
<code>sort_check</code> is TRUE, and turned off if FALSE.  The default value
is TRUE.  Turn the sort check off if you want to perform by-group 
processing on unsorted data, or data that is not sorted according
to the by-group.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The processed data frame or tibble.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Note that the <code>keep</code>, <code>drop</code>, and <code>rename</code> parameters
are output parameters.  These parameters will be applied after the
data step statements are executed.  Therefore, within the data step, 
refer to variables using the input variable name. New variables may 
be created on the fly, just by assigning a value to the new
variable name.</p>
<p>The <code>keep</code>, <code>drop</code>, and <code>rename</code> parameters require 
quoted variable names, as the variables may not yet exist at the 
time they are passed into the function.  Within a data step or 
calculate function, however, 
variable names do not need to be quoted.</p>
<p>The <code>datastep</code> function provides four automatic variables. These 
variables are generated for every data step, and can 
be accessed at any point within the data step:</p><ul>
<li><p><strong>data</strong>: Represents the input data frame.</p></li>
<li><p><strong>n.</strong>: Contains the row number.</p></li>
<li><p><strong>first.</strong>: Indicates the beginning of a by-group.</p></li>
<li><p><strong>last.</strong>: Indicates the end of a by-group.</p></li>
</ul><p>Automatic variables will be dropped from the data frame at the end
of the data step.  If you wish to keep the automatic variable values,
assign the automatic variable to a new variable and keep that variable.</p>
<p>The <code>calculate</code> parameter is used to perform vectorized functions
on the data prior to executing the data step.  For example, you 
may want to determine a mean for a variable in the <code>calculate</code>
block, and then make decisions on that mean in the data step block.</p>
<p>The <code>retain</code> parameter allows you to access the prior row value.
At the start of the data step, the retained variable is seeded with the 
initial value. For each subsequent step, the variable is seeded with the
value of the prior step/row.  This functionality allows you to increment 
values or perform cumulative operations.</p>
<p>Note that the data step is pipe-friendly.  It can be used within 
a <strong>dplyr</strong> pipeline.  The data step allows you to perform
deeply nested and complex conditionals within the pipeline.  The data
step is also very readable compared to other pipeline conditionals.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other datastep: 
<code><a href='[.dsarray.html'>[.dsarray</a>()</code>,
<code><a href='dsarray.html'>dsarray</a>()</code>,
<code><a href='length.dsarray.html'>length.dsarray</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># Example #1: Simple Data Step</span>
<span class='va'>df</span> <span class='op'>&lt;-</span> <span class='fu'>datastep</span><span class='op'>(</span><span class='va'>mtcars</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>10</span>,<span class='op'>]</span>, 
               keep <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"mpg"</span>, <span class='st'>"cyl"</span>, <span class='st'>"disp"</span>, <span class='st'>"mpgcat"</span>, <span class='st'>"recdt"</span><span class='op'>)</span>, <span class='op'>{</span>
                 
  <span class='kw'>if</span> <span class='op'>(</span><span class='va'>mpg</span> <span class='op'>&gt;=</span> <span class='fl'>20</span><span class='op'>)</span> 
    <span class='va'>mpgcat</span> <span class='op'>&lt;-</span> <span class='st'>"High"</span>
  <span class='kw'>else</span> 
    <span class='va'>mpgcat</span> <span class='op'>&lt;-</span> <span class='st'>"Low"</span>
                 
  <span class='va'>recdt</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1974-06-10"</span><span class='op'>)</span>
                 
  <span class='kw'>if</span> <span class='op'>(</span><span class='va'>cyl</span> <span class='op'>==</span> <span class='fl'>8</span><span class='op'>)</span>
    <span class='va'>is8cyl</span> <span class='op'>&lt;-</span> <span class='cn'>TRUE</span>
                 
<span class='op'>}</span><span class='op'>)</span>

<span class='va'>df</span>
<span class='co'>#                    mpg cyl  disp mpgcat      recdt</span>
<span class='co'># Mazda RX4         21.0   6 160.0   High 1974-06-10</span>
<span class='co'># Mazda RX4 Wag     21.0   6 160.0   High 1974-06-10</span>
<span class='co'># Datsun 710        22.8   4 108.0   High 1974-06-10</span>
<span class='co'># Hornet 4 Drive    21.4   6 258.0   High 1974-06-10</span>
<span class='co'># Hornet Sportabout 18.7   8 360.0    Low 1974-06-10</span>
<span class='co'># Valiant           18.1   6 225.0    Low 1974-06-10</span>
<span class='co'># Duster 360        14.3   8 360.0    Low 1974-06-10</span>
<span class='co'># Merc 240D         24.4   4 146.7   High 1974-06-10</span>
<span class='co'># Merc 230          22.8   4 140.8   High 1974-06-10</span>
<span class='co'># Merc 280          19.2   6 167.6    Low 1974-06-10</span>

<span class='co'># Example #2: By-group Processing</span>
<span class='va'>df</span> <span class='op'>&lt;-</span> <span class='fu'>datastep</span><span class='op'>(</span><span class='va'>mtcars</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>10</span>,<span class='op'>]</span>, 
               keep <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"mpg"</span>, <span class='st'>"cyl"</span>, <span class='st'>"gear"</span>, <span class='st'>"grp"</span><span class='op'>)</span>, 
               by <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"gear"</span><span class='op'>)</span>, sort_check <span class='op'>=</span> <span class='cn'>FALSE</span>, <span class='op'>{</span>
                 
  <span class='kw'>if</span> <span class='op'>(</span><span class='va'>first.</span><span class='op'>)</span>
    <span class='va'>grp</span> <span class='op'>&lt;-</span> <span class='st'>"Start"</span>
  <span class='kw'>else</span> <span class='kw'>if</span> <span class='op'>(</span><span class='va'>last.</span><span class='op'>)</span>
    <span class='va'>grp</span> <span class='op'>&lt;-</span> <span class='st'>"End"</span>
  <span class='kw'>else</span> 
    <span class='va'>grp</span> <span class='op'>&lt;-</span> <span class='st'>"-"</span>
                 
<span class='op'>}</span><span class='op'>)</span>

<span class='va'>df</span>
<span class='co'>#                    mpg cyl gear   grp</span>
<span class='co'># Mazda RX4         21.0   6    4 Start</span>
<span class='co'># Mazda RX4 Wag     21.0   6    4     -</span>
<span class='co'># Datsun 710        22.8   4    4   End</span>
<span class='co'># Hornet 4 Drive    21.4   6    3 Start</span>
<span class='co'># Hornet Sportabout 18.7   8    3     -</span>
<span class='co'># Valiant           18.1   6    3     -</span>
<span class='co'># Duster 360        14.3   8    3   End</span>
<span class='co'># Merc 240D         24.4   4    4 Start</span>
<span class='co'># Merc 230          22.8   4    4     -</span>
<span class='co'># Merc 280          19.2   6    4   End </span>

<span class='co'># Example #3: Calculate Block</span>
<span class='va'>df</span> <span class='op'>&lt;-</span> <span class='fu'>datastep</span><span class='op'>(</span><span class='va'>mtcars</span>, 
               keep <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"mpg"</span>, <span class='st'>"cyl"</span>, <span class='st'>"mean_mpg"</span>, <span class='st'>"mpgcat"</span><span class='op'>)</span>, 
               calculate <span class='op'>=</span> <span class='op'>{</span> <span class='va'>mean_mpg</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>mpg</span><span class='op'>)</span> <span class='op'>}</span>, <span class='op'>{</span>
                 
  <span class='kw'>if</span> <span class='op'>(</span><span class='va'>mpg</span> <span class='op'>&gt;=</span> <span class='va'>mean_mpg</span><span class='op'>)</span>
    <span class='va'>mpgcat</span> <span class='op'>&lt;-</span> <span class='st'>"High"</span>
  <span class='kw'>else</span> 
    <span class='va'>mpgcat</span> <span class='op'>&lt;-</span> <span class='st'>"Low"</span>
                 
<span class='op'>}</span><span class='op'>)</span>

<span class='va'>df</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>10</span>,<span class='op'>]</span>
<span class='co'>#                    mpg cyl mean_mpg mpgcat</span>
<span class='co'># Mazda RX4         21.0   6 20.09062   High</span>
<span class='co'># Mazda RX4 Wag     21.0   6 20.09062   High</span>
<span class='co'># Datsun 710        22.8   4 20.09062   High</span>
<span class='co'># Hornet 4 Drive    21.4   6 20.09062   High</span>
<span class='co'># Hornet Sportabout 18.7   8 20.09062    Low</span>
<span class='co'># Valiant           18.1   6 20.09062    Low</span>
<span class='co'># Duster 360        14.3   8 20.09062    Low</span>
<span class='co'># Merc 240D         24.4   4 20.09062   High</span>
<span class='co'># Merc 230          22.8   4 20.09062   High</span>
<span class='co'># Merc 280          19.2   6 20.09062    Low</span>

<span class='co'># Example #4: Data pipeline</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://dplyr.tidyverse.org'>dplyr</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://magrittr.tidyverse.org'>magrittr</a></span><span class='op'>)</span>

<span class='co'># Add datastep to dplyr pipeline</span>
<span class='va'>df</span> <span class='op'>&lt;-</span> <span class='va'>mtcars</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='va'>mpg</span>, <span class='va'>cyl</span>, <span class='va'>gear</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>mean_mpg <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>mpg</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>datastep</span><span class='op'>(</span><span class='op'>{</span>
    
    <span class='kw'>if</span> <span class='op'>(</span><span class='va'>mpg</span> <span class='op'>&gt;=</span> <span class='va'>mean_mpg</span><span class='op'>)</span>
      <span class='va'>mpgcat</span> <span class='op'>&lt;-</span> <span class='st'>"High"</span>
    <span class='kw'>else</span> 
      <span class='va'>mpgcat</span> <span class='op'>&lt;-</span> <span class='st'>"Low"</span>
    
  <span class='op'>}</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/ranking.html'>row_number</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>&lt;=</span> <span class='fl'>10</span><span class='op'>)</span>

<span class='va'>df</span>
<span class='co'>#     mpg cyl gear mean_mpg mpgcat</span>
<span class='co'># 1  21.0   6    4 20.09062   High</span>
<span class='co'># 2  21.0   6    4 20.09062   High</span>
<span class='co'># 3  22.8   4    4 20.09062   High</span>
<span class='co'># 4  21.4   6    3 20.09062   High</span>
<span class='co'># 5  18.7   8    3 20.09062    Low</span>
<span class='co'># 6  18.1   6    3 20.09062    Low</span>
<span class='co'># 7  14.3   8    3 20.09062    Low</span>
<span class='co'># 8  24.4   4    4 20.09062   High</span>
<span class='co'># 9  22.8   4    4 20.09062   High</span>
<span class='co'># 10 19.2   6    4 20.09062    Low</span>

<span class='co'># Example #5: Drop, Retain and Rename</span>
<span class='va'>df</span> <span class='op'>&lt;-</span> <span class='fu'>datastep</span><span class='op'>(</span><span class='va'>mtcars</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>10</span>, <span class='op'>]</span>, 
               drop <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"disp"</span>, <span class='st'>"hp"</span>, <span class='st'>"drat"</span>, <span class='st'>"qsec"</span>, 
                        <span class='st'>"vs"</span>, <span class='st'>"am"</span>, <span class='st'>"gear"</span>, <span class='st'>"carb"</span><span class='op'>)</span>, 
               retain <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>cumwt <span class='op'>=</span> <span class='fl'>0</span> <span class='op'>)</span>,
               rename <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span>mpg <span class='op'>=</span> <span class='st'>"MPG"</span>, cyl <span class='op'>=</span> <span class='st'>"Cylinders"</span>, wt <span class='op'>=</span> <span class='st'>"Wgt"</span>, 
                          cumwt <span class='op'>=</span> <span class='st'>"Cumulative Wgt"</span><span class='op'>)</span>, <span class='op'>{</span>
                 
  <span class='va'>cumwt</span> <span class='op'>&lt;-</span> <span class='va'>cumwt</span> <span class='op'>+</span> <span class='va'>wt</span>
                 
<span class='op'>}</span><span class='op'>)</span>

<span class='va'>df</span>
<span class='co'>#                    MPG Cylinders   Wgt Cumulative Wgt</span>
<span class='co'># Mazda RX4         21.0         6 2.620          2.620</span>
<span class='co'># Mazda RX4 Wag     21.0         6 2.875          5.495</span>
<span class='co'># Datsun 710        22.8         4 2.320          7.815</span>
<span class='co'># Hornet 4 Drive    21.4         6 3.215         11.030</span>
<span class='co'># Hornet Sportabout 18.7         8 3.440         14.470</span>
<span class='co'># Valiant           18.1         6 3.460         17.930</span>
<span class='co'># Duster 360        14.3         8 3.570         21.500</span>
<span class='co'># Merc 240D         24.4         4 3.190         24.690</span>
<span class='co'># Merc 230          22.8         4 3.150         27.840</span>
<span class='co'># Merc 280          19.2         6 3.440         31.280</span>
</pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by David Bosak.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


