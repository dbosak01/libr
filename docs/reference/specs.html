<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Create an Import Spec Collection — specs • libr</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><script src="../extra.js"></script><meta property="og:title" content="Create an Import Spec Collection — specs"><meta property="og:description" content="A function to capture a set of import specifications for a
directory of data files.  These specs can be used on the
libname function to correctly assign the data types for
imported data files. The
import engines will guess at the data types for any columns that
are not explicitly defined in the import specifications. Import
specifications are defined with the import_spec function.
The import spec syntax is the same for all data engines.
Note that the na and trim_ws parameters on the specs
function will be applied globally to all files in the library.
These global settings can be overridden on the import_spec
for any particular data file.
Also note that the specs collection is defined as an object
so it can be stored and reused.
See the write.specs and read.specs functions
for additional information on saving specs."><meta property="og:image" content="https://libr.r-sassy.org/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">libr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.3.7</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"></ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="../articles/libr.html">Get started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/libr-basics.html">Basic Library Operations</a>
    </li>
    <li>
      <a href="../articles/libr-management.html">Library Management</a>
    </li>
    <li>
      <a href="../articles/libr-datastep.html">Data Step Operations</a>
    </li>
    <li>
      <a href="../articles/libr-disclaimer.html">Disclaimer</a>
    </li>
    <li>
      <a href="../articles/libr-example1.html">Complete Example 1</a>
    </li>
    <li>
      <a href="../articles/libr-example2.html">Complete Example 2</a>
    </li>
    <li>
      <a href="../articles/libr-faq.html">Frequently Asked Questions</a>
    </li>
  </ul></li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href=".././articles/libr-faq.html">FAQ</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<li>
  <a href="https://github.com/dbosak01/libr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create an Import Spec Collection</h1>
    <small class="dont-index">Source: <a href="https://github.com/dbosak01/libr/blob/HEAD/R/specs.R" class="external-link"><code>R/specs.R</code></a></small>
    <div class="hidden name"><code>specs.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>A function to capture a set of import specifications for a
directory of data files.  These specs can be used on the
<code><a href="libname.html">libname</a></code> function to correctly assign the data types for
imported data files. The
import engines will guess at the data types for any columns that
are not explicitly defined in the import specifications. Import
specifications are defined with the <code><a href="import_spec.html">import_spec</a></code> function.
The import spec syntax is the same for all data engines.</p>
<p>Note that the <code>na</code> and <code>trim_ws</code> parameters on the <code>specs</code>
function will be applied globally to all files in the library.
These global settings can be overridden on the <code><a href="import_spec.html">import_spec</a></code>
for any particular data file.</p>
<p>Also note that the <code>specs</code> collection is defined as an object
so it can be stored and reused.
See the <code><a href="write.specs.html">write.specs</a></code> and <code><a href="read.specs.html">read.specs</a></code> functions
for additional information on saving specs.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">specs</span><span class="op">(</span><span class="va">...</span>, na <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">""</span>, <span class="st">"NA"</span><span class="op">)</span>, trim_ws <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Named input specs.  The name should correspond to the file name,
without the file extension.
The spec is defined as an <code>import_spec</code> object.  See the
<code><a href="import_spec.html">import_spec</a></code> function for additional information on
parameters for that object.</p></dd>


<dt id="arg-na">na<a class="anchor" aria-label="anchor" href="#arg-na"></a></dt>
<dd><p>A vector of values to be treated as NA.  For example, the
vector <code>c('', ' ')</code> will cause empty strings and single blanks to
be converted to NA values. For most file types,
empty strings and the string 'NA' <code>('', 'NA')</code> are considered NA.
For SAS® datasets and transport files, a single blank and a single dot
<code>c(" ", ".")</code> are considered NA. The value of the
<code>na</code> parameter on the <code>specs</code> function can be overridden
by the <code>na</code> parameter on the <code>import_spec</code> function.</p></dd>


<dt id="arg-trim-ws">trim_ws<a class="anchor" aria-label="anchor" href="#arg-trim-ws"></a></dt>
<dd><p>Whether or not to trim white space from the input data values.
Valid values are TRUE, and FALSE.  Default is TRUE.  The value of the
<code>trim_ws</code> parameter on the <code>specs</code> function can be overridden
by the <code>trim_ws</code> parameter on the <code>import_spec</code> function.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>The import specifications object.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="libname.html">libname</a></code> to create a data library,
<code><a href="dictionary.html">dictionary</a></code> for generating a data dictionary, and
<code><a href="import_spec.html">import_spec</a></code> for additional information on defining an
import spec.</p>
<p>Other specs:
<code><a href="import_spec.html">import_spec</a>()</code>,
<code><a href="print.specs.html">print.specs</a>()</code>,
<code><a href="read.specs.html">read.specs</a>()</code>,
<code><a href="write.specs.html">write.specs</a>()</code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://readr.tidyverse.org" class="external-link">readr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create temp path</span></span>
<span><span class="va">tmp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"mtcars.csv"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create data for illustration purposes</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>vehicle <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span>, <span class="va">mtcars</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mpg"</span>, <span class="st">"cyl"</span>, <span class="st">"disp"</span><span class="op">)</span><span class="op">]</span>,</span>
<span>                 stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Kill rownames</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span></span>
<span><span class="co"># Add some columns</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="datastep.html">datastep</a></span><span class="op">(</span><span class="va">df</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, <span class="op">]</span>, <span class="op">{</span></span>
<span></span>
<span>        <span class="va">recdt</span> <span class="op">&lt;-</span> <span class="st">"10JUN1974"</span></span>
<span></span>
<span>        <span class="kw">if</span> <span class="op">(</span><span class="va">mpg</span> <span class="op">&gt;=</span> <span class="fl">20</span><span class="op">)</span></span>
<span>          <span class="va">mpgcat</span> <span class="op">&lt;-</span> <span class="st">"High"</span></span>
<span>        <span class="kw">else</span> </span>
<span>          <span class="va">mpgcat</span> <span class="op">&lt;-</span> <span class="st">"Low"</span></span>
<span>      </span>
<span>        <span class="kw">if</span> <span class="op">(</span><span class="va">cyl</span> <span class="op">==</span> <span class="fl">8</span><span class="op">)</span></span>
<span>          <span class="va">cyl8</span> <span class="op">&lt;-</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>  </span>
<span><span class="va">df</span></span>
<span><span class="co">#              vehicle  mpg cyl  disp     recdt mpgcat cyl8</span></span>
<span><span class="co"># 1          Mazda RX4 21.0   6 160.0 10JUN1974   High   NA</span></span>
<span><span class="co"># 2      Mazda RX4 Wag 21.0   6 160.0 10JUN1974   High   NA</span></span>
<span><span class="co"># 3         Datsun 710 22.8   4 108.0 10JUN1974   High   NA</span></span>
<span><span class="co"># 4     Hornet 4 Drive 21.4   6 258.0 10JUN1974   High   NA</span></span>
<span><span class="co"># 5  Hornet Sportabout 18.7   8 360.0 10JUN1974    Low TRUE</span></span>
<span><span class="co"># 6            Valiant 18.1   6 225.0 10JUN1974    Low   NA</span></span>
<span><span class="co"># 7         Duster 360 14.3   8 360.0 10JUN1974    Low TRUE</span></span>
<span><span class="co"># 8          Merc 240D 24.4   4 146.7 10JUN1974   High   NA</span></span>
<span><span class="co"># 9           Merc 230 22.8   4 140.8 10JUN1974   High   NA</span></span>
<span><span class="co"># 10          Merc 280 19.2   6 167.6 10JUN1974    Low   NA</span></span>
<span></span>
<span><span class="co"># Save to temp directory for this example</span></span>
<span><span class="fu"><a href="https://readr.tidyverse.org/reference/write_delim.html" class="external-link">write_csv</a></span><span class="op">(</span><span class="va">df</span>, <span class="va">tmp</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Start Example ##</span></span>
<span></span>
<span><span class="co"># Define import spec</span></span>
<span><span class="va">spcs</span> <span class="op">&lt;-</span> <span class="fu">specs</span><span class="op">(</span>mtcars <span class="op">=</span> <span class="fu"><a href="import_spec.html">import_spec</a></span><span class="op">(</span>vehicle <span class="op">=</span> <span class="st">"character"</span>,</span>
<span>                                   cyl <span class="op">=</span> <span class="st">"integer"</span>,</span>
<span>                                   recdt <span class="op">=</span> <span class="st">"date=%d%b%Y"</span>,</span>
<span>                                   mpgcat <span class="op">=</span> <span class="st">"guess"</span>,</span>
<span>                                   cyl8 <span class="op">=</span> <span class="st">"logical"</span><span class="op">)</span><span class="op">)</span></span>
<span>                                   </span>
<span><span class="co"># Create library</span></span>
<span><span class="fu"><a href="libname.html">libname</a></span><span class="op">(</span><span class="va">dat</span>, <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"csv"</span>, import_specs <span class="op">=</span> <span class="va">spcs</span><span class="op">)</span></span>
<span><span class="co"># $mtcars</span></span>
<span><span class="co"># library 'dat': 1 items</span></span>
<span><span class="co"># - attributes: csv not loaded</span></span>
<span><span class="co"># - path: C:\Users\User\AppData\Local\Temp\RtmpqAMV6L</span></span>
<span><span class="co"># - items:</span></span>
<span><span class="co">#     Name Extension Rows Cols   Size        LastModified</span></span>
<span><span class="co"># 1 mtcars       csv   10    7 9.3 Kb 2020-11-29 09:47:52</span></span>
<span></span>
<span><span class="co"># View data types</span></span>
<span><span class="fu"><a href="dictionary.html">dictionary</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span></span>
<span><span class="co"># # A tibble: 7 x 10</span></span>
<span><span class="co">#   Name   Column  Class     Label Description Format Width Justify  Rows   NAs</span></span>
<span><span class="co">#   &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;     &lt;chr&gt; &lt;chr&gt;       &lt;lgl&gt;  &lt;int&gt; &lt;chr&gt;   &lt;int&gt; &lt;int&gt;</span></span>
<span><span class="co"># 1 mtcars vehicle character NA    NA          NA        17 NA         10     0</span></span>
<span><span class="co"># 2 mtcars mpg     numeric   NA    NA          NA        NA NA         10     0</span></span>
<span><span class="co"># 3 mtcars cyl     integer   NA    NA          NA        NA NA         10     0</span></span>
<span><span class="co"># 4 mtcars disp    numeric   NA    NA          NA        NA NA         10     0</span></span>
<span><span class="co"># 5 mtcars mpgcat  character NA    NA          NA         4 NA         10     0</span></span>
<span><span class="co"># 6 mtcars recdt   Date      NA    NA          NA        NA NA         10     0</span></span>
<span><span class="co"># 7 mtcars cyl8    logical   NA    NA          NA        NA NA         10     8</span></span>
<span></span>
<span><span class="co"># Clean up</span></span>
<span><span class="fu"><a href="lib_delete.html">lib_delete</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span></span></code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by David Bosak.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

      </footer></div>






  </body></html>

