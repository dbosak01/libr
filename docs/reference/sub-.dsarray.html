<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Indexer for Data Step Array — [.dsarray • libr</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><script src="../extra.js"></script><meta property="og:title" content="Indexer for Data Step Array — [.dsarray"><meta property="og:description" content="A custom indexer for the Datastep Array.  The indexer will
return a value for all columns or a specified column. To
access all columns, leave the indexer empty. Otherwise, specify the
the column name(s) or number(s) to return data for.  The indexer will
always act upon the current row in the datastep.
For additional details, see the dsarray function."><meta property="og:image" content="https://libr.r-sassy.org/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">libr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.3.9</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"></ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="../articles/libr.html">Get started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/libr-basics.html">Basic Library Operations</a>
    </li>
    <li>
      <a href="../articles/libr-management.html">Library Management</a>
    </li>
    <li>
      <a href="../articles/libr-datastep.html">Data Step Operations</a>
    </li>
    <li>
      <a href="../articles/libr-disclaimer.html">Disclaimer</a>
    </li>
    <li>
      <a href="../articles/libr-example1.html">Complete Example 1</a>
    </li>
    <li>
      <a href="../articles/libr-example2.html">Complete Example 2</a>
    </li>
    <li>
      <a href="../articles/libr-faq.html">Frequently Asked Questions</a>
    </li>
  </ul></li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href=".././articles/libr-faq.html">FAQ</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<li>
  <a href="https://github.com/dbosak01/libr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Indexer for Data Step Array</h1>
    <small class="dont-index">Source: <a href="https://github.com/dbosak01/libr/blob/HEAD/R/dsarray.R" class="external-link"><code>R/dsarray.R</code></a></small>
    <div class="hidden name"><code>sub-.dsarray.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>A custom indexer for the Datastep Array.  The indexer will
return a value for all columns or a specified column. To
access all columns, leave the indexer empty. Otherwise, specify the
the column name(s) or number(s) to return data for.  The indexer will
always act upon the current row in the datastep.
For additional details, see the <code><a href="dsarray.html">dsarray</a></code> function.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for class 'dsarray'</span></span>
<span><span class="va">x</span><span class="op">[</span>i <span class="op">=</span> <span class="cn">NULL</span><span class="op">]</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>The <code><a href="dsarray.html">dsarray</a></code> object.</p></dd>


<dt id="arg-i">i<a class="anchor" aria-label="anchor" href="#arg-i"></a></dt>
<dd><p>The index of the datastep array item to return a value for.
This index can be a column name or position in the array. It can also
be a vector of column names or positions.  If no index
is supplied, a vector of all array values will be returned.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>The value of the specified column for the current row in the
datastep.  If no index is supplied, a vector of all column values will
be returned.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other datastep:
<code><a href="datastep.html">datastep</a>()</code>,
<code><a href="delete.html">delete</a>()</code>,
<code><a href="dsarray.html">dsarray</a>()</code>,
<code><a href="dsattr.html">dsattr</a>()</code>,
<code><a href="length.dsarray.html">length.dsarray</a>()</code>,
<code><a href="output.html">output</a>()</code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://libr.r-sassy.org">libr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create AirPassengers Data Frame</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="va">AirPassengers</span>, <span class="fl">12</span>, </span>
<span>                    dimnames <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">month.abb</span>, <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">1949</span>, <span class="fl">1960</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>, </span>
<span>                    stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Use datastep array to get sums by quarter</span></span>
<span><span class="co"># Examine different ways of referencing data inside datastep</span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="datastep.html">datastep</a></span><span class="op">(</span><span class="va">df</span>,</span>
<span>                keep <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Q1"</span>, <span class="st">"Q2"</span>, <span class="st">"Q3"</span>, <span class="st">"Q4"</span>, <span class="st">"Tot"</span><span class="op">)</span>,</span>
<span>                arrays <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>months <span class="op">=</span> <span class="fu"><a href="dsarray.html">dsarray</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                <span class="op">{</span></span>
<span>                </span>
<span>                   <span class="co"># Reference by column name</span></span>
<span>                   <span class="va">Q1</span> <span class="op">&lt;-</span> <span class="va">Jan</span> <span class="op">+</span> <span class="va">Feb</span> <span class="op">+</span> <span class="va">Mar</span></span>
<span>                   </span>
<span>                   <span class="co"># Reference by array positions</span></span>
<span>                   <span class="va">Q2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">months</span><span class="op">[</span><span class="fl">4</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span><span class="op">)</span></span>
<span>                   </span>
<span>                   <span class="co"># Reference by array names</span></span>
<span>                   <span class="va">Q3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">months</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Jul"</span>, <span class="st">"Aug"</span>, <span class="st">"Sep"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span>                   </span>
<span>                   <span class="co"># Reference by row position</span></span>
<span>                   <span class="va">Q4</span> <span class="op">&lt;-</span> <span class="va">rw</span><span class="op">$</span><span class="va">Oct</span> <span class="op">+</span> <span class="va">rw</span><span class="op">[[</span><span class="st">"Nov"</span><span class="op">]</span><span class="op">]</span> <span class="op">+</span> <span class="va">rw</span><span class="op">[[</span><span class="fl">12</span><span class="op">]</span><span class="op">]</span></span>
<span>                   </span>
<span>                   <span class="co"># Empty indexer returns all column values in array</span></span>
<span>                   <span class="va">Tot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">months</span><span class="op">[</span><span class="op">]</span><span class="op">)</span></span>
<span>                  </span>
<span>                <span class="op">}</span><span class="op">)</span></span>
<span></span>
<span><span class="va">dat</span></span>
<span><span class="co">#        Q1   Q2   Q3   Q4  Tot</span></span>
<span><span class="co"># 1949  362  385  432  341 1520</span></span>
<span><span class="co"># 1950  382  409  498  387 1676</span></span>
<span><span class="co"># 1951  473  513  582  474 2042</span></span>
<span><span class="co"># 1952  544  582  681  557 2364</span></span>
<span><span class="co"># 1953  628  707  773  592 2700</span></span>
<span><span class="co"># 1954  627  725  854  661 2867</span></span>
<span><span class="co"># 1955  742  854 1023  789 3408</span></span>
<span><span class="co"># 1956  878 1005 1173  883 3939</span></span>
<span><span class="co"># 1957  972 1125 1336  988 4421</span></span>
<span><span class="co"># 1958 1020 1146 1400 1006 4572</span></span>
<span><span class="co"># 1959 1108 1288 1570 1174 5140</span></span>
<span><span class="co"># 1960 1227 1468 1736 1283 5714</span></span></code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by David Bosak.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

      </footer></div>






  </body></html>

